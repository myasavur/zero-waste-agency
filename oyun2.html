
<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>♻️ Sıfır Atık Oyunu - Final</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; background: linear-gradient(135deg, #e0f7fa, #b2ebf2); margin: 0; padding: 20px; }
    h1 { margin-bottom: 20px; }
    .hidden { display: none; }
    .card { background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); display: inline-block; margin-top: 20px; }
    input, select, button { margin: 10px; padding: 10px; font-size: 1em; border-radius: 10px; border: 1px solid #ccc; width: 80%; }
    button { background: #4CAF50; color: white; cursor: pointer; transition: 0.3s; }
    button:hover { background: #45a049; transform: scale(1.05); }
    #waste-item { font-size: 2em; margin: 20px; padding: 20px; background: #fff; border-radius: 10px; display: inline-block; }
    #bins button { margin: 5px; width: 150px; }
    #scoreboard { font-size: 1.2em; margin-top: 20px; }
  </style>
</head>
<body>
  <h1>♻️ Sıfır Atık Oyunu</h1>
  <div id="setup" class="card">
    <h2>Oyun Ayarları</h2>
    <input id="playerName" placeholder="Adını Gir"><br>
    <select id="timeSelect">
      <option value="30">30 Saniye</option>
      <option value="60" selected>60 Saniye</option>
      <option value="90">90 Saniye</option>
    </select><br>
    <select id="difficultySelect">
      <option value="easy" selected>Kolay</option>
      <option value="medium">Orta</option>
      <option value="hard">Zor</option>
    </select><br>
    <button onclick="startCountdown()">Başla 🚀</button>
  </div>

  <div id="countdown" class="hidden">
    <h2 id="count">3</h2>
  </div>

  <div id="game" class="hidden">
    <div id="scoreboard">
      Oyuncu: <span id="playerDisplay"></span><br>
      Skor: <span id="score">0</span> | Yüksek Skor: <span id="highscore">0</span> | Süre: <span id="time">60</span>s
    </div>
    <div id="item-container">
      <div id="waste-item">Hazırlanıyor...</div>
    </div>
    <div id="bins">
      <button onclick="chooseBin('Plastik')">🧴 Plastik</button>
      <button onclick="chooseBin('Kağıt')">📰 Kağıt</button>
      <button onclick="chooseBin('Cam')">🍾 Cam</button>
      <button onclick="chooseBin('Organik')">🍌 Organik</button>
      <button onclick="chooseBin('Elektronik')">💻 Elektronik</button>
    </div>
    <div id="gameover" class="hidden">
      <h2 id="gameover-message"></h2>
      <p>Skorun: <span id="final-score"></span></p>
      <button onclick="restartGame()">Tekrar Oyna 🔄</button>
    </div>
  </div>

  <audio id="bg-music" src="https://cdn.pixabay.com/audio/2022/03/15/audio_e1b048bfa3.mp3" loop></audio>
  <audio id="correct-sound" src="https://cdn.pixabay.com/audio/2022/03/15/audio_c0a7b72a06.mp3"></audio>
  <audio id="wrong-sound" src="https://cdn.pixabay.com/audio/2022/03/15/audio_69a6f2b273.mp3"></audio>

  <script>
    const wasteItems = [
      { name: "🧴 Su Şişesi", type: "Plastik" }, { name: "🛍️ Plastik Torba", type: "Plastik" }, { name: "🥤 Plastik Bardak", type: "Plastik" },
      { name: "📰 Gazete", type: "Kağıt" }, { name: "📦 Karton Kutu", type: "Kağıt" }, { name: "📚 Eski Kitap", type: "Kağıt" },
      { name: "🍾 Cam Şişe", type: "Cam" }, { name: "🥂 Cam Bardak", type: "Cam" }, { name: "🧂 Cam Kavanoz", type: "Cam" },
      { name: "🍌 Muz Kabuğu", type: "Organik" }, { name: "🍎 Elma Kabuğu", type: "Organik" }, { name: "🥦 Sebze Atığı", type: "Organik" },
      { name: "🔋 Pil", type: "Elektronik" }, { name: "💻 Eski Laptop", type: "Elektronik" }, { name: "📱 Kırık Telefon", type: "Elektronik" }
    ];
    let score = 0, timeLeft = 60, playerName = '', currentItem = null, timer, wasteChangeTimer;

    function startCountdown() {
      playerName = document.getElementById('playerName').value || 'Oyuncu';
      timeLeft = parseInt(document.getElementById('timeSelect').value);
      document.getElementById('setup').classList.add('hidden');
      document.getElementById('countdown').classList.remove('hidden');
      let count = 3;
      const interval = setInterval(() => {
        document.getElementById('count').innerText = count;
        count--;
        if (count < 0) {
          clearInterval(interval);
          startGame();
        }
      }, 1000);
    }

    function startGame() {
      document.getElementById('bg-music').play();
      document.getElementById('countdown').classList.add('hidden');
      document.getElementById('game').classList.remove('hidden');
      document.getElementById('playerDisplay').textContent = playerName;
      nextItem();
      timer = setInterval(updateTime, 1000);
      wasteChangeTimer = setInterval(nextItem, 3000);
    }

    function nextItem() {
      currentItem = wasteItems[Math.floor(Math.random() * wasteItems.length)];
      document.getElementById('waste-item').textContent = currentItem.name;
    }

    function chooseBin(binType) {
      if (!currentItem) return;
      if (currentItem.type === binType) {
        score += 10;
        document.getElementById('correct-sound').play();
      } else {
        score -= 5;
        document.getElementById('wrong-sound').play();
      }
      document.getElementById('score').textContent = score;
      nextItem();
    }

    function updateTime() {
      timeLeft--;
      document.getElementById('time').textContent = timeLeft;
      if (timeLeft <= 0) {
        clearInterval(timer);
        clearInterval(wasteChangeTimer);
        endGame();
      }
    }

    function endGame() {
      document.getElementById('bg-music').pause();
      document.getElementById('item-container').classList.add('hidden');
      document.getElementById('bins').classList.add('hidden');
      document.getElementById('gameover').classList.remove('hidden');
      document.getElementById('final-score').textContent = score;
      document.getElementById('gameover-message').textContent = score > 150 ? "MÜKEMMEL!" : score > 50 ? "İyi İş!" : "Daha iyisi olur!";
    }

    function restartGame() {
      location.reload();
    }
  </script>
</body>
</html>
